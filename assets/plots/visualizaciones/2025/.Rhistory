url<- "https://raw.githubusercontent.com/rominicky/materiales/main/assets/Provincias.csv"
destino <- "./provincias.csv"
download.file(url, destino)
library("readr")
install.packages("readr")
install.packages("tidyverse")
library("readr")
provincias <- read_csv(destino)
library(tidyverse)
provincias <- read.csv('~/Provincias.csv')
View(provincias)
provincias <- provincias %>%
rename(Viviendas_particulares = Viviendas.particulares..2022.)
# Calculamos la media de viviendas particulares por provincia
media_Viviendas_particulares <- provincias %>%
group_by(Nombre.de.provincia) %>% #Agrupamos los datos por la columna Nombre.de.provincia.
summarise(media_Viviendas_particulares = mean(Viviendas_particulares, na.rm = TRUE)) #Calculamos la media de la columna Viviendas_particulares por cada provincia agrupada, generamos una nueva columna 'media_Viviendas_particulares
# Creamos el gráfico de viviendas particulares por provincias
ggplot(provincias, aes(x = reorder(Nombre.de.provincia, Viviendas_particulares), y = Viviendas_particulares)) + #indicamos que datos asignamos a cada eje
geom_bar(stat = "identity", na.rm = TRUE) + #el tipo de gráfico que realizaremos, podría
coord_flip() +  # Giramos el gráfico para mayor legibilidad
labs(title = "Viviendas particulares por Provincias argentinas", #indicamos las etiquetas
x = "Provincias",
y = "Viviendas particulares") +
theme_light()
provincias <- provincias %>%
rename(situacion_calle = Personas.en.situación.de.calle..vía.pública.)
# Calculo la media de personas en situación de calle por provincia
media_situacion_calle <- provincias %>%
group_by(Nombre.de.provincia) %>% #Agrupo los datos por la columna Nombre.de.provincia.
summarise(media_situacion_calle = mean(situacion_calle, na.rm = TRUE)) #Calculo la media de la columna situacion_calle por cada provincia agrupada, generamos una nueva columna 'media_situacion_calle'
# Creamos el gráfico de personas en situación de calle por provincias
ggplot(provincias, aes(x = reorder(Nombre.de.provincia, situacion_calle), y = situacion_calle)) + #indico que datos asignamos a cada eje
geom_bar(stat = "identity", na.rm = TRUE) + #el tipo de gráfico que realicé, podría
coord_flip() +  # Giro el gráfico para mayor legibilidad
labs(title = "Personas en situaciones de calle por Provincias argentinas", #indico las etiquetas
x = "Provincias",
y = "Cantidad de personas en situación de calle") +
theme_light() #indico el tema, ggplot tiene 8 temas, el genérico es minimal
setwd("E:/hd-git/analisis-doaj")
setwd("E:/hd-git/analisis-doaj/assets/img/visualizaciones/2025")
library(treemapify)
library(tidyverse)
library(tidytext)
library(dplyr)
library(ggplot2)
library(gapminder)
library(magrittr) #algunos los vuelvo a llamar por error al correr el script
library(tidyselect)
library(purrr)
library(readr)
library(rio)
library(xlsx)
#journal <- read.csv(url("https://raw.githubusercontent.com/rominicky/analisis-doaj/main/journalcsv__doaj_20240404_1721_utf8.csv?token=GHSAT0AAAAAACPRMIVAKVUR2TLJYTL5B4QOZQVK33A"))
journal <- read.csv("E:/hd-git/analisis-doaj/2025_journalcsv.csv")
as_tibble(journal)
colnames(journal)
journal.select <- journal%>% select(Journal.title, Country.of.publisher, Languages.in.which.the.journal.accepts.manuscripts, Journal.license, Publisher, Review.process, Subjects, APC, Persistent.article.identifiers, Keywords)
journal.select <- journal.select %>%
rename(title = Journal.title) %>%
rename(country = Country.of.publisher) %>%
rename(language = Languages.in.which.the.journal.accepts.manuscripts) %>%
rename (license = Journal.license) %>%
rename (Review = Review.process) %>%
rename (Ids = Persistent.article.identifiers)
journal.select$Subjects <- str_extract(journal.select$Subjects, "\\w+(?:[^\\w]+\\w+){0,1}")
#elimino los signos de puntuación
journal.select$Subjects <- gsub("[[:punct:]]", "", journal.select$Subjects)
journal.select <- journal.select %>%
mutate(Subjects = str_trim(Subjects)) %>%
mutate(Subjects = sapply(Subjects, function(x) {
words <- str_split(x, "\\s{2,}|,|\\s*\\band\\b\\s*|\\s+")[[1]]  # dividir por palabras, "and", comas, o espacios
words <- unique(words[words != ""])  # eliminar vacíos y duplicados
paste(words, collapse = " ")
}))
# Crear una función para ordenar los idiomas en una lista
sort_languages <- function(language_list) {
sorted_languages <- sort(unlist(strsplit(language_list, ", ")))
#sorted_languages <- unique(sorted_languages)  # Eliminar duplicados
return(paste(sorted_languages, collapse = ", "))
}
# Aplicar la función a cada celda en la columna 'language'
journal.select$language <- sapply(journal.select$language, sort_languages)
# Crear una función para ordenar los ids
sort_ids <- function(ids_list) {
sorted_ids <- sort(unlist(strsplit(ids_list, ", ")))
#sorted_languages <- unique(sorted_languages)  # Eliminar duplicados
return(paste(sorted_ids, collapse = ", "))
}
# Aplicar la función a cada celda en la columna 'language'
journal.select$Ids <- sapply(journal.select$Ids, sort_ids)
porcen_journal <- journal.select %>%
group_by(country)%>%
count()%>%
ungroup()%>%
mutate(percentage= n /sum(n)*100) %>%
bind_rows(data.frame(country = "Total", n = NA, percentage = sum(.$percentage)))
# Filtrar los países de América Latina
selected_countries <- c("Brazil", "Argentina", "Mexico", "Colombia", "Ecuador", "Costa Rica", "Bolivia, Plurinational State of", "Dominican Republic", "El Salvador", "Guatemala", "
Honduras", "Nicaragua", "Panama", "Chile", "Paraguay", "Peru", "Uruguay", "Venezuela, Bolivarian Republic of")
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits(
enabled = TRUE,  # Habilitar los créditos
align = "left",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
library(htmlwidgets)
library(webshot)
library(highcharter)
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits(
enabled = TRUE,  # Habilitar los créditos
align = "left",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
# Filtrar los países de América Latina
selected_countries <- c("Brazil", "Argentina", "Mexico", "Colombia", "Ecuador", "Costa Rica", "Bolivia, Plurinational State of", "Dominican Republic", "El Salvador", "Guatemala", "
Honduras", "Nicaragua", "Panama", "Chile", "Paraguay", "Peru", "Uruguay", "Venezuela, Bolivarian Republic of")
filtered_data <- porcen_journal %>% filter(country %in% selected_countries)
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits(
enabled = TRUE,  # Habilitar los créditos
align = "left",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits(
enabled = TRUE,  # Habilitar los créditos
align = "left",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
total.journal <- length(journal.select$title)
total.journal
#en todo el mundo
journal.select %>%
group_by(language)%>%
count()%>%
filter(n >= 100 )%>%
mutate(language = reorder(language, n)) %>%
ggplot(aes(x = reorder(language, n), y = n, fill = language)) +
geom_col () + # si agrego , fill = "blue" cambio color
#scale_fill_manual(values = rainbow(length(unique(datos$language)))) +
scale_fill_viridis_d(option = "C" ) +
theme_minimal() +
theme(legend.position = "n") +
ylab("Número de veces que aparecen") +
xlab(NULL) +
ggtitle("Idiomas de publicación de revistas en todo el mundo") +
coord_flip() +
labs(caption = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.")
ggsave("idiomas-total_min100-2024.jpg", width = 3000, height = 1500, units = "px", dpi = 300)
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits(
enabled = TRUE,  # Habilitar los créditos
position = "left",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
install.packages('IRkernel')
IRkernel::installspec()
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits( #https://api.highcharts.com/highcharts/
enabled = TRUE,  # Habilitar los créditos
itemStyle = list(align = "left", fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 10,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits( #https://api.highcharts.com/highcharts/
enabled = TRUE,  # Habilitar los créditos
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 8,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits( #https://api.highcharts.com/highcharts/
enabled = TRUE,  # Habilitar los créditos
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",  # Tu cita
href = "https://github.com/rominicky/analisis-doaj"  # Enlace a tu repositorio, si lo deseas
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
paises_total <- hchart(
filtered_data,
type = "pie",
hcaes(x = country, y = percentage),
dataLabels = list(enabled = TRUE),  # Deshabilitar etiquetas de datos
showInLegend = TRUE
) %>%
hc_title(text = "<b>Porcentaje de países de América Latina</b>") %>%
hc_subtitle(text = "<i>Países de América Latina respecto al total de los países del mundo</i>") %>%
hc_exporting(
enabled = TRUE, # Habilitar exportación
filename = "paises_total"
) %>%
hc_plotOptions(
pie = list(
allowPointSelect = TRUE,
cursor = "pointer"
)
) %>%
hc_legend(
enabled = TRUE,
layout = "horizontal",
align = "center",
verticalAlign = "bottom",
y = 8,  # Ajustar la posición vertical de la leyenda
itemStyle = list(fontSize = "12px", fontWeight = "normal"),
labelFormat = "{name}: {percentage:.1f}%"
)%>%
hc_credits( #https://api.highcharts.com/highcharts/
enabled = TRUE,
text = "Citar como: Romina De León, 2025. Análisis de revistas latinoamericanas en DOAJ.",
href = "https://github.com/rominicky/analisis-doaj",
itemStyle = list(fontSize = "8px", fontWeight = "normal"),
position = list(align = "left", x = 10, y = -5)  # <-- Esto alinea a la izquierda
)
saveWidget(paises_total, file = "paises_total-interactivo_amlat_2024.html")
install.packages("IRkernel")
install.packages("IRkernel")
install.packages("IRkernel")
install.packages("IRkernel")
IRkernel::installspec(name = "ir", displayname = "R")
